<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Galería Juvenil Cristiana</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@300;400;500;600&display=swap');

    * {
      font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
    }

    body {
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .gallery-item {
      transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      transform-origin: center;
      will-change: transform, box-shadow;
    }
    
    .gallery-item:hover {
      transform: scale(1.03) translateY(-4px);
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    }
    
    .gallery-item.animate-in {
      animation: slideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    }
    
    @keyframes slideUp {
      from { 
        opacity: 0; 
        transform: translateY(30px) scale(0.95);
      }
      to { 
        opacity: 1; 
        transform: translateY(0) scale(1);
      }
    }
    
    .modal-backdrop {
      backdrop-filter: blur(40px) saturate(180%);
      -webkit-backdrop-filter: blur(40px) saturate(180%);
      transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    }
    
    .modal-content {
      animation: modalSlide 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      will-change: transform, opacity;
    }
    
    @keyframes modalSlide {
      from { 
        opacity: 0; 
        transform: scale(0.9) translateY(20px);
      }
      to { 
        opacity: 1; 
        transform: scale(1) translateY(0);
      }
    }

    .nav-link {
      position: relative;
      overflow: hidden;
    }
    
    .nav-link::before {
      content: '';
      position: absolute;
      bottom: 0;
      left: -100%;
      width: 100%;
      height: 2px;
      background: linear-gradient(90deg, #007AFF, #5856D6);
      transition: left 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    }
    
    .nav-link:hover::before,
    .nav-link.active::before {
      left: 0;
    }

    .filter-btn {
      transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
    }
    
    .filter-btn:hover {
      transform: translateY(-1px);
    }

    .filter-btn.active {
      background: rgba(0, 122, 255, 0.1);
      border: 1px solid rgba(0, 122, 255, 0.3);
      color: #007AFF;
    }

    .download-btn {
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .download-btn:hover {
      transform: scale(1.1);
      background: rgba(255, 255, 255, 0.9);
    }

    .video-overlay {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    .image-container {
      position: relative;
      overflow: hidden;
      border-radius: 16px;
      background: #f8f9fa;
    }

    .image-container img {
      transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .image-container:hover img {
      transform: scale(1.05);
    }

    .loading-placeholder {
      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
      background-size: 200% 100%;
      animation: shimmer 1.5s infinite;
    }

    @keyframes shimmer {
      0% { background-position: -200% 0; }
      100% { background-position: 200% 0; }
    }

    .glass-effect {
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .photo-info {
      transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
      transform: translateY(100%);
      opacity: 0;
    }

    .gallery-item:hover .photo-info {
      transform: translateY(0);
      opacity: 1;
    }

    @media (max-width: 768px) {
      .photo-info {
        transform: translateY(0);
        opacity: 1;
      }
    }
  </style>
</head>
<body class="bg-gradient-to-br from-gray-50 to-white">
  <!-- Header minimalista con efecto cristal -->
  <header class="fixed top-0 left-0 right-0 glass-effect z-50 border-b border-white/20">
    <div class="container mx-auto px-6 py-4 flex justify-between items-center">
      <h1 class="text-xl font-semibold text-gray-900">✝️ Jóvenes Cristianos</h1>
      
      <nav class="hidden md:flex space-x-8">
        <a href="#inicio" class="nav-link active text-gray-700 hover:text-gray-900 py-2">Inicio</a>
        <a href="#galeria" class="nav-link text-gray-700 hover:text-gray-900 py-2">Galería</a>
        <a href="#ministerio" class="nav-link text-gray-700 hover:text-gray-900 py-2">Ministerio</a>
      </nav>
      
      <button class="md:hidden text-gray-700" id="menu-toggle">
        <i class="fas fa-bars text-xl"></i>
      </button>
    </div>
  </header>

  <!-- Sección de Inicio -->
  <section id="inicio" class="pt-24 pb-16">
    <div class="container mx-auto px-6 text-center">
      <h2 class="text-5xl md:text-7xl font-light text-gray-900 mb-6">Ministerio Juvenil</h2>
      <p class="text-gray-600 text-xl mb-8 max-w-3xl mx-auto">Momentos especiales de nuestra comunidad juvenil cristiana. "Porque donde están dos o tres congregados en mi nombre, allí estoy yo en medio de ellos" - Mateo 18:20</p>
      <div class="text-sm text-gray-500">
        <i class="fas fa-heart text-red-500 mr-2"></i>
        Todas las fotos disponibles para descarga gratuita
      </div>
    </div>
  </section>

  <!-- Filtros elegantes -->
  <section class="py-8">
    <div class="container mx-auto px-6">
      <div class="flex flex-wrap justify-center gap-3" id="filters">
        <button class="filter-btn active px-6 py-3 rounded-full text-sm glass-effect" data-filter="all">
          <i class="fas fa-heart mr-2"></i>Todas
        </button>
        <button class="filter-btn px-6 py-3 rounded-full text-sm glass-effect" data-filter="worship">
          <i class="fas fa-hands mr-2"></i>Alabanza
        </button>
        <button class="filter-btn px-6 py-3 rounded-full text-sm glass-effect" data-filter="fellowship">
          <i class="fas fa-users mr-2"></i>Comunión
        </button>
        <button class="filter-btn px-6 py-3 rounded-full text-sm glass-effect" data-filter="events">
          <i class="fas fa-cross mr-2"></i>Eventos
        </button>
        <button class="filter-btn px-6 py-3 rounded-full text-sm glass-effect" data-filter="service">
          <i class="fas fa-praying-hands mr-2"></i>Servicio
        </button>
      </div>
    </div>
  </section>

  <!-- Galería principal -->
  <section id="galeria" class="py-12">
    <div class="container mx-auto px-6">
      <div class="columns-1 sm:columns-2 lg:columns-3 xl:columns-4 gap-4" id="gallery-container">
        <!-- Las imágenes se cargarán dinámicamente -->
      </div>
    </div>
  </section>

  <!-- Sección Ministerio -->
  <section id="ministerio" class="py-20 bg-gradient-to-br from-blue-50 to-purple-50">
    <div class="container mx-auto px-6 text-center">
      <h3 class="text-3xl font-light text-gray-900 mb-8">Nuestro Ministerio Juvenil</h3>
      <div class="max-w-2xl mx-auto space-y-6 text-gray-600">
        <p class="text-lg">"Ninguno tenga en poco tu juventud, sino sé ejemplo de los creyentes en palabra, conducta, amor, espíritu, fe y pureza." - 1 Timoteo 4:12</p>
        <p>Una comunidad de jóvenes apasionados por Jesús, creciendo juntos en fe, amistad y propósito.</p>
        <div class="flex justify-center items-center space-x-8 pt-8">
          <div class="text-center">
            <div class="text-2xl font-semibold text-blue-600" id="photo-count">24</div>
            <div class="text-sm text-gray-500">Fotos</div>
          </div>
          <div class="text-center">
            <div class="text-2xl font-semibold text-green-600">HD</div>
            <div class="text-sm text-gray-500">Calidad</div>
          </div>
          <div class="text-center">
            <div class="text-2xl font-semibold text-purple-600">Gratis</div>
            <div class="text-sm text-gray-500">Descarga</div>
          </div>
        </div>
        <div class="pt-6">
          <p class="text-sm text-gray-500 italic">"Jesús le dijo: Yo soy el camino, y la verdad, y la vida" - Juan 14:6</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Modal para vista ampliada -->
  <div id="gallery-modal" class="fixed inset-0 modal-backdrop bg-black/80 z-50 flex items-center justify-center opacity-0 pointer-events-none transition-all duration-300">
    <div class="modal-content relative w-full max-w-6xl mx-4 h-full max-h-[90vh] flex items-center justify-center">
      <!-- Controles superiores -->
      <div class="absolute top-4 left-4 right-4 z-10 flex justify-between items-center">
        <div class="glass-effect rounded-full px-4 py-2 text-white text-sm">
          <span id="modal-counter">1 / 24</span>
        </div>
        <div class="flex space-x-2">
          <button id="download-modal" class="w-10 h-10 rounded-full glass-effect text-white hover:bg-white/20 flex items-center justify-center transition-colors">
            <i class="fas fa-download text-sm"></i>
          </button>
          <button id="close-modal" class="w-10 h-10 rounded-full glass-effect text-white hover:bg-white/20 flex items-center justify-center transition-colors">
            <i class="fas fa-times text-sm"></i>
          </button>
        </div>
      </div>
      
      <div id="modal-content" class="w-full h-full flex items-center justify-center p-4">
        <!-- Contenido dinámico -->
      </div>
      
      <!-- Controles de navegación -->
      <button id="prev-item" class="absolute left-4 top-1/2 transform -translate-y-1/2 text-white text-xl w-12 h-12 rounded-full glass-effect hover:bg-white/20 flex items-center justify-center transition-colors">
        <i class="fas fa-chevron-left"></i>
      </button>
      <button id="next-item" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-white text-xl w-12 h-12 rounded-full glass-effect hover:bg-white/20 flex items-center justify-center transition-colors">
        <i class="fas fa-chevron-right"></i>
      </button>

      <!-- Información de la foto -->
      <div id="modal-info" class="absolute bottom-4 left-4 right-4 glass-effect rounded-2xl p-4 text-white">
        <h3 id="modal-title" class="font-semibold mb-1"></h3>
        <p id="modal-description" class="text-sm opacity-80"></p>
      </div>
    </div>
  </div>

  
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Datos de la galería con fotografías reales adaptadas al contexto cristiano juvenil
      const galleryItems = [
        {
          id: 1,
          type: "image",
          src: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=1200&fit=crop",
          thumbnail: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=600&fit=crop",
          category: "worship",
          title: "Adoración en las Alturas",
          description: "Alabanza juvenil bajo cielo abierto",
          verse: "Salmos 150:6"
        },
        {
          id: 2,
          type: "image",
          src: "https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=800&h=600&fit=crop",
          thumbnail: "https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=400&h=300&fit=crop",
          category: "fellowship",
          title: "Camino de Fe",
          description: "Jóvenes caminando juntos en propósito",
          verse: "Proverbios 27:17"
        },
        {
          id: 3,
          type: "image",
          src: "https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=800&h=1200&fit=crop",
          thumbnail: "https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=400&h=600&fit=crop",
          category: "worship",
          title: "Reflexión Divina",
          description: "Momento de contemplación y oración",
          verse: "Salmos 46:10"
        },
        {
          id: 4,
          type: "image",
          src: "https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=800&h=800&fit=crop",
          thumbnail: "https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=400&h=400&fit=crop",
          category: "events",
          title: "Valentía Juvenil",
          description: "Líderes jóvenes con corazón de león",
          verse: "Josué 1:9"
        },
        {
          id: 5,
          type: "image",
          src: "https://images.unsplash.com/photo-1439066615861-d1af74d74000?w=800&h=600&fit=crop",
          thumbnail: "https://images.unsplash.com/photo-1439066615861-d1af74d74000?w=400&h=300&fit=crop",
          category: "service",
          title: "Río de Bendición",
          description: "Sirviendo con amor como agua viva",
          verse: "Juan 7:38"
        },
        {
          id: 6,
          type: "image",
          src: "https://images.unsplash.com/photo-1518837695005-2083093ee35b?w=800&h=1200&fit=crop",
          thumbnail: "https://images.unsplash.com/photo-1518837695005-2083093ee35b?w=400&h=600&fit=crop",
          category: "worship",
          title: "Oleadas de Alabanza",
          description: "Adoración que llega hasta el trono",
          verse: "Apocalipsis 4:8"
        },
        
        {
          id: 8,
          type: "image",
          src: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=800&fit=crop",
          thumbnail: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=400&fit=crop",
          category: "events",
          title: "Gloria del Amanecer",
          description: "Retiro juvenil al amanecer",
          verse: "Lamentaciones 3:23"
        },
        {
          id: 9,
          type: "image",
          src: "https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=800&h=1200&fit=crop",
          thumbnail: "https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=400&h=600&fit=crop",
          category: "service",
          title: "Campo de Esperanza",
          description: "Sirviendo en la gran comisión",
          verse: "Mateo 28:19"
        },
        {
          id: 10,
          type: "image",
          src: "https://images.unsplash.com/photo-1475924156734-496f6cac6ec1?w=800&h=600&fit=crop",
          thumbnail: "https://images.unsplash.com/photo-1475924156734-496f6cac6ec1?w=400&h=300&fit=crop",
          category: "fellowship",
          title: "Gracia y Elegancia",
          description: "Jóvenes creciendo en gracia",
          verse: "2 Pedro 3:18"
        },
        {
          id: 11,
          type: "image",
          src: "https://images.unsplash.com/photo-1540979388789-6cee28a1cdc9?w=800&h=1200&fit=crop",
          thumbnail: "https://images.unsplash.com/photo-1540979388789-6cee28a1cdc9?w=400&h=600&fit=crop",
          category: "events",
          title: "Cielo en la Tierra",
          description: "Campamento juvenil de verano",
          verse: "Mateo 6:10"
        },
        {
          id: 12,
          type: "image",
          src: "https://images.unsplash.com/photo-1441260038675-7329ab4cc264?w=800&h=800&fit=crop",
          thumbnail: "https://images.unsplash.com/photo-1441260038675-7329ab4cc264?w=400&h=400&fit=crop",
          category: "worship",
          title: "Presencia Celestial",
          description: "En Su presencia hay plenitud de gozo",
          verse: "Salmos 16:11"
        },
        {
          id: 13,
          type: "image",
          src: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop",
          thumbnail: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",
          category: "service",
          title: "Fe que Mueve Montañas",
          description: "Jóvenes con fe inquebrantable",
          verse: "Mateo 17:20"
        },
        {
          id: 14,
          type: "image",
          src: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800&h=1200&fit=crop",
          thumbnail: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=600&fit=crop",
          category: "fellowship",
          title: "Manada de Líderes",
          description: "Entrenando la próxima generación",
          verse: "2 Timoteo 2:2"
        },
        {
          id: 15,
          type: "image",
          src: "https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=800&h=600&fit=crop",
          thumbnail: "https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=400&h=300&fit=crop",
          category: "events",
          title: "Roca de Salvación",
          description: "Firmes sobre la Roca eterna",
          verse: "Salmos 18:2"
        },
        {
          id: 16,
          type: "image",
          src: "https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=800&h=1200&fit=crop",
          thumbnail: "https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=400&h=600&fit=crop",
          category: "worship",
          title: "Templo Viviente",
          description: "Adoración en espíritu y verdad",
          verse: "Juan 4:24"
        },
        {
          id: 17,
          type: "image",
          src: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=800&fit=crop",
          thumbnail: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=400&fit=crop",
          category: "service",
          title: "Aurora de Esperanza",
          description: "Llevando esperanza al mundo",
          verse: "Romanos 15:13"
        },
        {
          id: 18,
          type: "image",
          src: "https://images.unsplash.com/photo-1485963631004-f2f00b1d6606?w=800&h=600&fit=crop",
          thumbnail: "https://images.unsplash.com/photo-1485963631004-f2f00b1d6606?w=400&h=300&fit=crop",
          category: "fellowship",
          title: "Vuelo de Fe",
          description: "Elevándose en alas como águilas",
          verse: "Isaías 40:31"
        },
        {
          id: 19,
          type: "image",
          src: "https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=800&h=1200&fit=crop",
          thumbnail: "https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=400&h=600&fit=crop",
          category: "events",
          title: "Tesoros del Reino",
          description: "Descubriendo las riquezas de Cristo",
          verse: "Colosenses 2:3"
        },
        
        {
          id: 21,
          type: "image",
          src: "https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=800&h=600&fit=crop",
          thumbnail: "https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=400&h=300&fit=crop",
          category: "fellowship",
          title: "Reflejo del Cielo",
          description: "Siendo imagen de Cristo",
          verse: "2 Corintios 3:18"
        },
        {
          id: 22,
          type: "image",
          src: "https://images.unsplash.com/photo-1475924156734-496f6cac6ec1?w=800&h=1200&fit=crop",
          thumbnail: "https://images.unsplash.com/photo-1475924156734-496f6cac6ec1?w=400&h=600&fit=crop",
          category: "service",
          title: "Rebaño del Pastor",
          description: "Cuidando los unos de los otros",
          verse: "Juan 10:11"
        },
        {
          id: 23,
          type: "image",
          src: "https://images.unsplash.com/photo-1540979388789-6cee28a1cdc9?w=800&h=800&fit=crop",
          thumbnail: "https://images.unsplash.com/photo-1540979388789-6cee28a1cdc9?w=400&h=400&fit=crop",
          category: "events",
          title: "Paraíso Encontrado",
          description: "Retiro espiritual de jóvenes",
          verse: "Apocalipsis 21:4"
        },
        {
          id: 24,
          type: "image",
          src: "https://images.unsplash.com/photo-1441260038675-7329ab4cc264?w=800&h=600&fit=crop",
          thumbnail: "https://images.unsplash.com/photo-1441260038675-7329ab4cc264?w=400&h=300&fit=crop",
          category: "fellowship",
          title: "Sendero de Vida",
          description: "Caminando en los caminos del Señor",
          verse: "Salmos 16:11"
        }
      ];

      // Referencias DOM
      const galleryContainer = document.getElementById("gallery-container");
      const filterButtons = document.querySelectorAll(".filter-btn");
      const modal = document.getElementById("gallery-modal");
      const modalContent = document.getElementById("modal-content");
      const modalTitle = document.getElementById("modal-title");
      const modalDescription = document.getElementById("modal-description");
      const modalCounter = document.getElementById("modal-counter");
      const closeModal = document.getElementById("close-modal");
      const prevButton = document.getElementById("prev-item");
      const nextButton = document.getElementById("next-item");
      const downloadModal = document.getElementById("download-modal");
      const photoCount = document.getElementById("photo-count");

      let currentItemIndex = 0;
      let filteredItems = [...galleryItems];

      // Actualizar contador de fotos
      photoCount.textContent = galleryItems.length;

      // Función para descargar imagen
      async function downloadImage(src, filename) {
        try {
          const response = await fetch(src);
          const blob = await response.blob();
          const url = window.URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url;
          a.download = filename || 'natura-photo.jpg';
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          window.URL.revokeObjectURL(url);
        } catch (error) {
          console.error('Error al descargar:', error);
          // Fallback: abrir en nueva ventana
          window.open(src, '_blank');
        }
      }

      // Función para cargar la galería
      function loadGallery(category = "all") {
        galleryContainer.innerHTML = "";

        filteredItems = category === "all" 
          ? galleryItems 
          : galleryItems.filter(item => item.category === category);

        filteredItems.forEach((item, index) => {
          const element = document.createElement("div");
          element.className = "gallery-item opacity-0 cursor-pointer mb-4 break-inside-avoid";
          element.dataset.index = index;

          element.innerHTML = `
            <div class="image-container group">
              <div class="loading-placeholder w-full h-64 rounded-2xl"></div>
              <img 
                src="${item.thumbnail}" 
                alt="${item.title}" 
                class="w-full h-auto object-cover rounded-2xl hidden"
                onload="this.classList.remove('hidden'); this.parentElement.querySelector('.loading-placeholder').style.display='none';"
                onerror="this.parentElement.querySelector('.loading-placeholder').innerHTML='<i class=\\'fas fa-image text-gray-400 text-4xl flex items-center justify-center h-full\\></i>';"
              >
              
              <!-- Overlay con información -->
              <div class="photo-info absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent rounded-2xl flex flex-col justify-end p-4">
                <div class="flex justify-between items-end">
                  <div class="text-white">
                    <h3 class="font-semibold text-sm mb-1">${item.title}</h3>
                    <p class="text-xs opacity-80 mb-1">${item.description}</p>
                    <p class="text-xs opacity-60 italic">${item.verse}</p>
                  </div>
                  <button 
                    class="download-btn w-10 h-10 rounded-full bg-white/20 text-white hover:bg-white/30 flex items-center justify-center transition-all"
                    onclick="event.stopPropagation(); downloadImage('${item.src}', '${item.title.toLowerCase().replace(/\s+/g, '-')}.jpg')"
                    title="Descargar imagen"
                  >
                    <i class="fas fa-download text-sm"></i>
                  </button>
                </div>
              </div>
            </div>
          `;

          // Animación de entrada con delay
          setTimeout(() => {
            element.classList.add("animate-in");
          }, index * 50);

          element.addEventListener("click", () => openModal(index));
          galleryContainer.appendChild(element);
        });
      }

      // Función para abrir modal
      function openModal(index) {
        currentItemIndex = index;
        updateModalContent();
        modal.classList.remove("opacity-0", "pointer-events-none");
        document.body.style.overflow = "hidden";
      }

      // Función para cerrar modal
      function closeModalHandler() {
        modal.classList.add("opacity-0", "pointer-events-none");
        document.body.style.overflow = "";
      }

      // Función para actualizar contenido del modal
      function updateModalContent() {
        const item = filteredItems[currentItemIndex];

        modalContent.innerHTML = `
          <img 
            src="${item.src}" 
            alt="${item.title}" 
            class="max-w-full max-h-full object-contain rounded-xl shadow-2xl"
          >
        `;

        modalTitle.textContent = item.title;
        modalDescription.textContent = item.description;
        modalCounter.textContent = `${currentItemIndex + 1} / ${filteredItems.length}`;

        // Actualizar información del modal con versículo
        const modalInfo = document.getElementById("modal-info");
        modalInfo.innerHTML = `
          <h3 class="font-semibold mb-1">${item.title}</h3>
          <p class="text-sm opacity-80 mb-2">${item.description}</p>
          <p class="text-xs opacity-60 italic">"${item.verse}"</p>
        `;

        // Actualizar botón de descarga del modal
        downloadModal.onclick = () => downloadImage(item.src, `${item.title.toLowerCase().replace(/\s+/g, '-')}.jpg`);
      }

      // Navegación en modal
      function goToPrevItem() {
        currentItemIndex = (currentItemIndex - 1 + filteredItems.length) % filteredItems.length;
        updateModalContent();
      }

      function goToNextItem() {
        currentItemIndex = (currentItemIndex + 1) % filteredItems.length;
        updateModalContent();
      }

      // Event Listeners para filtros
      filterButtons.forEach((button) => {
        button.addEventListener("click", function () {
          // Actualizar botones activos
          filterButtons.forEach((btn) => {
            btn.classList.remove("active");
          });
          this.classList.add("active");

          // Filtrar galería
          loadGallery(this.dataset.filter);
        });
      });

      // Event Listeners para modal
      closeModal.addEventListener("click", closeModalHandler);
      prevButton.addEventListener("click", goToPrevItem);
      nextButton.addEventListener("click", goToNextItem);

      // Cerrar modal al hacer clic fuera
      modal.addEventListener("click", (e) => {
        if (e.target === modal) closeModalHandler();
      });

      // Navegación con teclado
      document.addEventListener("keydown", (e) => {
        if (modal.classList.contains("opacity-0")) return;

        if (e.key === "Escape") closeModalHandler();
        else if (e.key === "ArrowLeft") goToPrevItem();
        else if (e.key === "ArrowRight") goToNextItem();
        else if (e.key === "d" || e.key === "D") {
          const item = filteredItems[currentItemIndex];
          downloadImage(item.src, `${item.title.toLowerCase().replace(/\s+/g, '-')}.jpg`);
        }
      });

      // Navegación suave
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            target.scrollIntoView({ behavior: "smooth" });

            // Actualizar navegación activa
            document.querySelectorAll(".nav-link").forEach((link) => {
              link.classList.remove("active");
            });
            this.classList.add("active");
          }
        });
      });

      // Función global para descargar (accesible desde onclick)
      window.downloadImage = downloadImage;

      // Inicializar galería
      loadGallery();

      // Efecto parallax sutil en el header
      window.addEventListener('scroll', () => {
        const scrolled = window.pageYOffset;
        const header = document.querySelector('header');
        if (scrolled > 100) {
          header.style.background = 'rgba(255, 255, 255, 0.95)';
        } else {
          header.style.background = 'rgba(255, 255, 255, 0.8)';
        }
      });

      // Lazy loading para mejor rendimiento
      const observerOptions = {
        root: null,
        rootMargin: '50px',
        threshold: 0.1
      };

      const imageObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const img = entry.target;
            if (img.dataset.src) {
              img.src = img.dataset.src;
              img.removeAttribute('data-src');
              imageObserver.unobserve(img);
            }
          }
        });
      }, observerOptions);

      // Aplicar lazy loading a las imágenes
      document.querySelectorAll('img[data-src]').forEach(img => {
        imageObserver.observe(img);
      });
    });
  </script>
</body>
</html>